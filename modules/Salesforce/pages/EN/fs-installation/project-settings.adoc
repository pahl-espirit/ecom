[[project_settings]]
=== Project settings
There is some essential project-specific information that needs to be entered for the connection between {fs} and {ccloud} (see figure <<p_settings>>).
It is entered using the project settings form and must be specified within the reference project.

[NOTE]
====
Changes to the project settings do not take effect straight away, as they are saved in the session of the user.
They require the client to be restarted.
====

[[p_settings]]
.Project settings
image::p_settings.png[]

Storefront Base URL::
The field is used to specify the storefront's base URL, which is extended with the page type and the ID of the element to be displayed (e.g., product, category, or asset ID).
It has the following format:
+
`\https://<SUBDOMAIN INSTANCE>/on/demandware.store/Sites-<SIDE ID>-Site`
+
More information on the storefront base URL is available in the _{ccloud} Documentation_ in the chapter https://documentation.demandware.com/DOC2/topic/com.demandware.dochelp/SearchEngineOptimization/DigitalURLSyntaxWithoutSEO.html[menu:Merchandising Your Site[Search Engine Optimization>URL Syntax>Salesforce B2C Commerce URL Syntax Without SEO]].

[IMPORTANT]
====
As a value of the storefront base URL, only up to the locale, *not* the entire URL must be entered in accordance with its specified format.

Example: +
`\https://www.mystore.com/on/demandware.store/â€‹Sites-YourShopHere-Site/`
====

SFCC Content Asset ID Prefix::
To uniquely identify the content assets generated by {fs}, a prefix for the content asset ID is to be defined at this point.

Preview Protection (BasicAuth)::
Within {ccloud}, it is possible to protect access to the storefront by activating the `Online (protected)` site status.
If this restriction is applied, the `storefront` user must be specified in {fs}.
Activating the toggle displays the `User` and `Password` fields.

User::
If access restriction is activated in {ccloud}, the `storefront` user must be specified in this field.

Password::
The password belonging to the `storefront` user is specified in this field.

StarterPackage Version::
This field is solely utilized to display the version of the used reference project.

Enable Custom Affixes::
The toggle makes it possible to use individual affixes for the HTML comments included in the templates, which are used to indicate the content to be substituted for the preview.
These have the format `<!-- CMS-<IDENTIFIER>-START -->` or `<!-- CMS-<IDENTIFIER>-END -->` by default.
When the toggle is activated, all four affixes are overwritten and the default values are therefore no longer taken into account.
The specific values can then be specified using the following fields.
If one of the form fields is missing even though the toggle is activated, an empty string is used for the corresponding affix.

[IMPORTANT]
====
For the individual affixes, the format `<!-- [OPENING_PREFIX]<IDENTIFIER>[OPENING_SUFFIX] -->` or `<!-- [CLOSING_PREFIX]<IDENTIFIER>[CLOSING_SUFFIX] -->` applies.

Spaces that are entered in the configuration fields in front of or behind an individual affix are ignored.

If the toggle is activated without at least one affix defined, this can lead to unexpected behavior.
====

[NOTE]
====
Within the reference project, all HTML comments have the standard format.
For this reason, the template for the project settings does not include the toggle or the form fields for the use of individual affixes.
====

Opening Prefix/Opening Suffix::
Together with the identifier, the opening prefix and the opening suffix form the start HTML comment and mark the beginning of the content to be substituted.

Closing Prefix/Closing Suffix::
Together with the identifier, the closing prefix and the closing suffix form the end HTML comment and mark the end of the content to be substituted.

Storefront-URL Controller Form Field::
To determine the storefront URL, the {modulname} {filter} must know which controller (e.g., Home, Page or Search) it needs to address.
This information generally depends on the page to be displayed, which is why the {filter} reads it out from an input component on the preview page form.
The {filter} uses the `pt_storefrontUrlController` field by default.
This behavior can be configured in the project settings using the `ps_storefrontUrlControllerFormField` field, in which the name of the form field to be read out is entered if required.

[NOTE]
====
Within the reference project, all page templates have the `pt_storefrontUrlController` input component as standard.
For this reason, the field for configuring its name is not included in the template for project settings.
====

Storefront-URL Context ID Form Field::
In addition to the controller, the {modulname} {filter} may in some cases require an ID (such as a product, category, or content asset ID); it also determines this on the basis of the page form.
There is the option of configuring the corresponding form field in the project settings using the `ps_storefrontUrlContextIdFormField` field.
The {filter} reads out the `pt_storefrontUrlContextId` component by default.

[NOTE]
====
Within the reference project, all page templates have the `pt_storefrontUrlContextId` input component as standard.
For this reason, the field for configuring its name is not included in the template for project settings.
====

Additionally, the template is used to initialize two XML collectors and a Product Manager, which are used in the other page and section templates of the project.
These page and section templates define which data is to be transferred to {ccloud}.
During the <<fdeployment,generation process>>, the data is collected on the basis of these definitions and the XML collectors are filled.

[NOTE]
====
If there are project-specific requirements for the XML collectors, then these can be adapted using the methods from the `XmlCollectorFactoryExecutable` class.
The information required for this is contained in the Javadoc for the class.

Information on calling up the Product Manager is contained in the Javadoc for the `ManagerFactoryExecutable` class.
====


